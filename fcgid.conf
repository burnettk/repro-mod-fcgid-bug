<IfModule mod_fcgid.c>
  AddHandler fcgid-script .fcgi
  FcgidIPCDir /var/lib/apache2/fcgid/sock
  FcgidConnectTimeout 20
  FcgidIOTimeout 180

  FcgidInitialEnv RAILS_ENV production
  FcgidInitialEnv PATH "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"

  FcgidPassHeader X_FORWARDED_PROTO
  FcgidPassHeader Authorization
  FcgidPassHeader Proxy-Authorization

  # there's just one application running within this apache server, so FcgidMaxProcesses and FcgidMaxProcessesPerClass have no need to differ
  FcgidMaxProcesses 40
  FcgidMaxProcessesPerClass 40
  FcgidMinProcessesPerClass 5
  FcgidProcessLifeTime 99999999
  FcgidIdleTimeout 3600
  FcgidMaxRequestsPerProcess 20000
</IfModule>
